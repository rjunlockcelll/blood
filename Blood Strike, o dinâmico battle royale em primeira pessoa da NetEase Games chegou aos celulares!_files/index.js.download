!function(t,e){var n=function(){function t(t){"string"==typeof t&&(t=[t]);for(var n=0;n<t.length;n++)e("#js_mshare_debug_list").append('<li style="word-break: break-all;border-bottom: 1px solid darkred;">'+t[n]+"</li>")}var n='<div style="position: fixed;left: 0;bottom: 0;width:100%;z-index:100;">						<a id="js_mshare_debug_btn" href="javascript:void(0)" style="display: block;width:40px;height:40px;background:orangered;color:white;text-decoration: none;font-size: 40px;text-align: center;line-height: 50px;">^</a>						<ul id="js_mshare_debug_list" style="background:white;display: block;list-style:none;width:100%;margin: 0;padding: 0;border: 1px solid orangered;max-height: 400px;overflow: auto;font-size: 14px;display: none;">						</ul>					</div>',r=!1,o=[];return{init:function(){r=!0,e(document.body).append(n),e("#js_mshare_debug_btn").bind("click",function(){e("#js_mshare_debug_list").toggle()}),t(o),o=[]},log:function(e){r?t(e):o.push(e)}}}(),r=function(){function e(t){var e=document.createElement("a");e.href=t,this.url=t,this.get=function(t){var e=new RegExp("(?:&|/?)"+t+"=([^&$]+)").exec(this.url);return e?e[1]:""},this.set=function(t,n){var r=this.get(t);r?e.search=e.search.replace(new RegExp(t+"=([^&$]+)"),t+"="+n):e.search+=e.search.indexOf("?")>-1?"&"+t+"="+n:"?"+t+"="+n,this.url=e.href}}function n(t){for(var e="",n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r=0;t>r;r++)pos=Math.round(Math.random()*(n.length-1)),e+=n[pos];return e}function r(t){return"string"!=typeof t?t:t.indexOf("%25")>-1?t:encodeURIComponent(t)}return{UrlParse:function(t){return new e(t)},randomWord:n,getStore:function(e){return t.localStorage?t.localStorage.getItem(e):""},setStore:function(e,n){return t.localStorage?t.localStorage.setItem(e,n):void 0},encode:r}}(),o=function(){function n(t,e){var n=document,r=n.head||n.getElementsByTagName("head")[0]||n.documentElement,o=n.createElement("script");o.onload=e,o.onerror=function(){},o.async=!0,o.src=t[0],r.appendChild(o)}function r(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}function o(t){var n="https://wxsign.nie.netease.com/sharecom/wxjs.php";(location.href.indexOf("eggy-go.com")>-1||location.href.indexOf("eggy-party.com")>-1||location.href.indexOf("eggy-gogogo.com")>-1)&&(n="https://wxsign.nie.netease.com/sharecom/wxjs_wx514c8f26b11fc6e2.php"),(location.href.indexOf("eggygogame.com")>-1||location.href.indexOf("party-eggygame.com")>-1)&&(n="https://wxsign.nie.netease.com/sharecom/wxjs_wx514c8f26b11fc6e2.php"),"stzb"===g&&(n="https://wxsign.nie.netease.com/sharecom/wxjs_wx35182ef22b6333ba.php"),e.ajax({url:n,data:{url:location.href,type:"jsonp"},async:!1,dataType:"jsonp",success:function(e){e.appId&&t(e)}})}function i(e){n([p],function(n){n.config||(n=t.wx),o(function(t){var r=["onMenuShareTimeline","onMenuShareQQ","onMenuShareAppMessage","onMenuShareQZone","hideMenuItems","showMenuItems","showOptionMenu","hideOptionMenu"],o=[];e.wxapi&&e.wxapi.length&&(r=r.concat(e.wxapi)),e.wxtag&&e.wxtag.length&&(o=o.concat(e.wxtag)),n.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:r,openTagList:o}),n.ready(function(){b=!0;var t=[];e.hideMoments&&t.push("menuItem:share:timeline"),e.hideFriend&&t.push("menuItem:share:appMessage"),t.length&&n.hideMenuItems({menuList:t}),_&&s(_),e.ready&&e.ready()}),n.error(function(){})})})}function a(){n([f],function(){b=!0,_&&c(_)})}function s(t){if(!b)return void(_=t);var e={title:t.title,desc:t.desc,link:t.url,imgUrl:t.imgurl,type:"",dataUrl:"",success:function(){},cancel:function(){}};wx.onMenuShareAppMessage(r(e,{success:function(){t.callback&&t.callback({type:1,type_en:"friend",channel:v})}})),wx.onMenuShareQQ(r(e,{success:function(){t.callback&&t.callback({type:3,type_en:"qq",channel:v})}})),wx.onMenuShareQZone(r(e,{success:function(){t.callback&&t.callback({type:4,type_en:"qzone",channel:v})}})),wx.onMenuShareTimeline(r(e,{success:function(){t.callback&&t.callback({type:2,type_en:"moments",channel:v})},title:t.moments_title||t.title})),_=null}function c(e){if(!b)return void(_=e);var n={title:e.title,desc:e.desc,share_url:e.url,image_url:e.imgurl};t.mqq.data.setShareInfo(n),e.callback&&e.callback({type:0,channel:v}),_=null}function u(t){var n='<meta itemprop="image" content="'+t.imgurl+'" /> 					<meta name="description" itemprop="description" content="'+t.desc+'" />',r=e("head meta[itemprop=image]")[0],o=e("head meta[itemprop=description]")[0];r&&o?(r.content=t.imgurl,o.content=t.desc):e("head").append(n),h(t)}function l(e){if("other"==v||e.type){var n="";switch(e.type){case"facebook":n="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e.url)+"&picture="+encodeURIComponent(e.imgurl)+"&description="+encodeURIComponent(e.desc)+"&title="+encodeURIComponent(e.title)+"&display=popup&ref=plugin&src=share_button";break;case"twitter":n="https://twitter.com/intent/tweet?text="+encodeURIComponent(e.desc)+"&url="+encodeURIComponent(e.url);break;case"line":n="https://lineit.line.me/share/ui?url="+encodeURIComponent(e.url);break;case"weibo":n="http://service.weibo.com/share/share.php?title="+encodeURIComponent(e.title)+"&url="+encodeURIComponent(e.url)+"&pic="+e.imgurl;break;case"yixin":n="http://open.yixin.im/share?appkey=yx3ae08a776bf04178a583cb745fb6aa0c&type=webpage&url="+encodeURIComponent(e.url)+"&title="+encodeURIComponent(e.title)+"&desc="+encodeURIComponent(e.desc)+"&pic="+encodeURIComponent(e.imgurl);break;case"qqzone":n="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+encodeURIComponent(e.url)+"&title="+encodeURIComponent(e.title)+"&desc="+encodeURIComponent(e.desc)+"&pics="+encodeURIComponent(e.imgurl)}n&&setTimeout(function(){t.location.href=n},300)}else switch(v){case"facebook":t.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e.url)+"&picture="+encodeURIComponent(e.imgurl)+"&description="+encodeURIComponent(e.desc)+"&title="+encodeURIComponent(e.title)+"&display=popup&ref=plugin&src=share_button","facebook");break;case"twitter":t.open("https://twitter.com/share?url="+encodeURIComponent(e.url)+"&text="+encodeURIComponent(e.desc),"twiiter");break;case"line":t.open("line://msg/text/"+encodeURIComponent(e.url),"line");break;case"weibo":t.open("http://service.weibo.com/share/share.php?title="+encodeURIComponent(e.title)+"&url="+encodeURIComponent(e.url)+"&pic="+e.imgurl,"weibo")}e.callback&&e.callback({type:0,channel:v})}function h(e){if(document.title=e.title,t.history.replaceState)try{t.history.replaceState(null,e.title,e.url)}catch(n){return e.callback&&e.callback({type:0,channel:v,msg:n.message})}e.callback&&e.callback({type:0,channel:v})}function d(t){g=t.product||"","wechat"==v?i(t):"qq"==v?a():b=!0}var p="//res.wx.qq.com/open/js/jweixin-1.6.0.js",f="//open.mobile.qq.com/sdk/qqapi.js?_bid=152",m={},g="",v="",y="",b=!1,_=null;return{initParam:function(){var t=navigator.userAgent;v="other",y="other",t.match(/MicroMessenger\/([\d\.]+)/i)&&(v="wechat"),t.match(/QQ\/([\d\.]+)/i)&&(v="qq"),t.match(/WeiBo/i)&&(v="weibo"),t.match(/\[FB|Facebook/i)&&(v="facebook"),t.match(/Twitter/i)&&(v="twitter"),t.match(/Line/i)&&(v="line"),"undefined"!=typeof yyy&&yyy.isInApp&&yyy.isInApp()?v="music":t.match(/NeteaseMusic/i)&&(v="music"),t.match(/iphone os|ipad/i)&&(y="ios"),t.match(/android/i)&&(y="android")},init:d,setShare:function(n){var r=e.extend({title:document.title,desc:document.desc,url:t.location.href,imgurl:"https://webinput.nie.netease.com/img/nie/icon.png/128"},n);switch(m=r,v){case"wechat":s(r);break;case"qq":n.isnew?u(r):c(r);break;case"weibo":h(r)}},openShare:function(n){var r=e.extend({title:document.title,desc:document.desc,url:t.location.href,imgurl:"https://webinput.nie.netease.com/img/nie/icon.png/128"},n);n.url?m=r:m.type=n.type,l(m)},updateShare:function(t){m=e.extend(m,t),this.setShare(m)},getClient:function(){return v},getOS:function(){return y},getShareParam:function(){return m}}}(),i=function(){function o(t,o){"number"!=typeof o&&(o=2e3);var i=function(t){var i=[],s="";for(var c in t)t[c]&&i.push(c+"="+r.encode(t[c]));if(s=a+"?"+i.join("&")+"&_t="+Math.random(),o){var u=e("<iframe name='img_report' />");u.css("display","none").appendTo("body");try{e(u[0].contentWindow.document.body).append('<img src="'+s+'" />')}catch(l){(new Image).src=s}setTimeout(function(){u.remove()},o)}else(new Image).src=s;console.log(s),n.log(s)};setTimeout(function(){i(t)},o)}function i(t){var e=[],n="";for(var o in t)t[o]&&e.push(o+"="+r.encode(t[o]));n=a+"?"+e.join("&")+"&_t="+Math.random(),navigator&&navigator.sendBeacon&&navigator.sendBeacon(n,null)}var a=t.location.hostname.match(/\.163\.com|\.netease\.com|\.16163\.com|\.eggygogame\.com|\.eggy-go\.com|\.eggy-party\.com|\.blizzard\.cn|\.yysls\.cn/i)?"https://bee.tc.netease.com/record_one":"https://bee.tc.easebar.com/record_one";return t.location.hostname.match(/\.harrypottermagicawakened\.com/i)&&t.location.pathname.indexOf("/cn/")>-1&&(a="https://bee.tc.netease.com/record_one"),{report:o,closeReport:i}}(),a=function(){function n(){return d?!1:(r(),o(),i(),void(d=!0))}function r(){var t=document.createElement("link");t.href="https://nie.res.netease.com/comm/js/nie/util/mshare/css/share-dialog/mobile-share.css",t.rel="stylesheet",document.head.appendChild(t)}function o(){p=document.createElement("div"),p.id="NIE-share-m",p.className="NIE-share-m",document.body.appendChild(p);var t='<%if( type == "other") {%>\n<div class="NIE-share_ctrl">\n    <div class="NIE-share_buttons">\n        <a class="NIE-share-btn_cp" href="javascript:void(0)"\n            data-clipboard-text="<%=shareUrl%>"\n        >\n            <i class="sharefont">&#xa0004;</i><em>\u590d\u5236\u94fe\u63a5</em>\n        </a>\n        <a class="NIE-share-btn_wx" href="javascript:void(0)"><i class="sharefont">&#xa0005;</i><em>\u5fae\u4fe1</em></a>\n        <a class="NIE-share-btn_wb" href="javascript:void(0)"><i class="sharefont">&#xa0003;</i><em>\u5fae\u535a</em></a>\n        <a class="NIE-share-btn_qq" href="javascript:void(0)"><i class="sharefont">&#xa0006;</i><em>QQ\u7a7a\u95f4</em></a>\n    </div>\n    <div class="NIE-share_qrcode">\n        <div>\n            <a class="NIE-btn-close "><i class="sharefont ">&#xa0001;</i></a>\n            <p><%=referText.qnCoder%></p>\n            <span></span>\n        </div>\n    </div>\n</div>\n<%}else{%>\n<div class="NIE-share-guide">\n    <div class="arrow_line">\n        <em></em><i></i><span></span>\n    </div>\n    <p><%=guideText%></p>\n</div>\n<%}%>',n=tmpl(t,{type:s.getClient(),guideText:f.guideText,referText:m,shareUrl:u()});p.innerHTML=n,p=e(p)}function i(){if(p[0].addEventListener("click",function(t){var n=t.target;e(n).hasClass("NIE-btn-close")||e(n).parent().hasClass("NIE-btn-close")?(a(),t.stopPropagation()):(e(n).hasClass("NIE-share_buttons")||e(n).hasClass("NIE-share_qrcode")||e(n).hasClass("NIE-share_link")||e(n).hasClass("NIE-share-m"))&&(p.removeClass("show"),setTimeout(function(){p.hide(),a()},300))},!1),p[0].addEventListener("touchmove",function(t){t.preventDefault()},!1),"other"==s.getClient()){var t=new ClipboardJS(".NIE-share-btn_cp");t.on("success",function(){alert("\u590d\u5236\u6210\u529f")}),t.on("error",function(){alert("\u590d\u5236\u5931\u8d25")}),p.find(".NIE-share-btn_wx")[0].addEventListener("click",function(t){c(),p.find(".NIE-share_ctrl").addClass("show_qrcode"),t.stopPropagation()},!1),p.find(".NIE-share-btn_wb")[0].addEventListener("click",function(){s.openShare({type:"weibo"})},!1),p.find(".NIE-share-btn_qq")[0].addEventListener("click",function(){s.openShare({type:"qqzone"})},!1)}}function a(){var t=p.find(".NIE-share_ctrl");t.removeClass(t.hasClass("show_qrcode")?"show_qrcode":"show_link")}function c(){function e(){var t=new h(r,{width:400,height:400,icon:f.qrcodeIcon==g?n:f.qrcodeIcon});t.makeCode(u())}if(t.location.hostname.indexOf(".163.com")<0){var n="data:image/png;base64,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",r=p.find(".NIE-share_qrcode span")[0];r.innerHTML="";var o=new Image;return o.onload=function(){e()},o.onerror=function(){e()},o.src=f.qrcodeIcon==g?n:f.qrcodeIcon,!1}var i=p.find(".NIE-share_qrcode span");if(0==i.find("img").length){var a=document.createElement("img");a.src="https://qrcode2.webapp.163.com/l?d="+encodeURIComponent(u())+"&l="+encodeURIComponent(f.qrcodeIcon),i.append(a)}else i.find("img")[0].src="https://qrcode2.webapp.163.com/l?d="+encodeURIComponent(u())+"&l="+encodeURIComponent(f.qrcodeIcon)}function u(){return s.getShareParam().url}function l(t){f=e.extend({guideText:"\u8bf7\u70b9\u51fb\u53f3\u4e0a\u89d2\u8fdb\u884c\u5206\u4eab",qrcodeIcon:g},t||{}),n(),setTimeout(function(){p.show(),p.addClass("show")},50)}!function(){var t={};this.tmpl=function e(n,r){var o=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[n]=t[n]||e(document.getElementById(n).innerHTML);return r?o(r):o}}();var h;!function(){function e(t){this.mode=l.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,n=this.data.length;n>e;e++){var r=[],o=this.data.charCodeAt(e);o>65536?(r[0]=240|(1835008&o)>>>18,r[1]=128|(258048&o)>>>12,r[2]=128|(4032&o)>>>6,r[3]=128|63&o):o>2048?(r[0]=224|(61440&o)>>>12,r[1]=128|(4032&o)>>>6,r[2]=128|63&o):o>128?(r[0]=192|(1984&o)>>>6,r[1]=128|63&o):r[0]=o,this.parsedData.push(r)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function n(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var r=0;r<t.length-n;r++)this.num[r]=t[r+n]}function o(t,e){this.totalCount=t,this.dataCount=e}function i(){this.buffer=[],this.length=0}function a(){return"undefined"!=typeof CanvasRenderingContext2D}function s(){var t=!1,e=navigator.userAgent;return/android/i.test(e)&&(t=!0,aMat=e.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(t=parseFloat(aMat[1]))),t}function c(t,e){for(var n=1,r=u(t),o=0,i=v.length;i>=o;o++){var a=0;switch(e){case d.L:a=v[o][0];break;case d.M:a=v[o][1];break;case d.Q:a=v[o][2];break;case d.H:a=v[o][3]}if(a>=r)break;n++}if(n>v.length)throw new Error("Too long data");return n}function u(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}e.prototype={getLength:function(){return this.parsedData.length},write:function(t){for(var e=0,n=this.parsedData.length;n>e;e++)t.put(this.parsedData[e],8)}},n.prototype={addData:function(t){var n=new e(t);this.dataList.push(n),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[r][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=n.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var n=-1;7>=n;n++)if(!(-1>=t+n||this.moduleCount<=t+n))for(var r=-1;7>=r;r++)-1>=e+r||this.moduleCount<=e+r||(this.modules[t+n][e+r]=n>=0&&6>=n&&(0==r||6==r)||r>=0&&6>=r&&(0==n||6==n)||n>=2&&4>=n&&r>=2&&4>=r?!0:!1)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;8>n;n++){this.makeImpl(!0,n);var r=f.getLostPoint(this);(0==n||t>r)&&(t=r,e=n)}return e},createMovieClip:function(t,e,n){var r=t.createEmptyMovieClip(e,n),o=1;this.make();for(var i=0;i<this.modules.length;i++)for(var a=i*o,s=0;s<this.modules[i].length;s++){var c=s*o,u=this.modules[i][s];u&&(r.beginFill(0,100),r.moveTo(c,a),r.lineTo(c+o,a),r.lineTo(c+o,a+o),r.lineTo(c,a+o),r.endFill())}return r},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=f.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var r=t[e],o=t[n];if(null==this.modules[r][o])for(var i=-2;2>=i;i++)for(var a=-2;2>=a;a++)this.modules[r+i][o+a]=-2==i||2==i||-2==a||2==a||0==i&&0==a?!0:!1}},setupTypeNumber:function(t){for(var e=f.getBCHTypeNumber(this.typeNumber),n=0;18>n;n++){var r=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;18>n;n++){var r=!t&&1==(e>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},setupTypeInfo:function(t,e){for(var n=this.errorCorrectLevel<<3|e,r=f.getBCHTypeInfo(n),o=0;15>o;o++){var i=!t&&1==(r>>o&1);6>o?this.modules[o][8]=i:8>o?this.modules[o+1][8]=i:this.modules[this.moduleCount-15+o][8]=i}for(var o=0;15>o;o++){var i=!t&&1==(r>>o&1);8>o?this.modules[8][this.moduleCount-o-1]=i:9>o?this.modules[8][15-o-1+1]=i:this.modules[8][15-o-1]=i}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,r=this.moduleCount-1,o=7,i=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;2>s;s++)if(null==this.modules[r][a-s]){var c=!1;i<t.length&&(c=1==(t[i]>>>o&1));var u=f.getMask(e,r,a-s);u&&(c=!c),this.modules[r][a-s]=c,o--,-1==o&&(i++,o=7)}if(r+=n,0>r||this.moduleCount<=r){r-=n,n=-n;break}}}},n.PAD0=236,n.PAD1=17,n.createData=function(t,e,r){for(var a=o.getRSBlocks(t,e),s=new i,c=0;c<r.length;c++){var u=r[c];s.put(u.mode,4),s.put(u.getLength(),f.getLengthInBits(u.mode,t)),u.write(s)}for(var l=0,c=0;c<a.length;c++)l+=a[c].dataCount;if(s.getLengthInBits()>8*l)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*l+")");for(s.getLengthInBits()+4<=8*l&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*l||(s.put(n.PAD0,8),s.getLengthInBits()>=8*l));)s.put(n.PAD1,8);return n.createBytes(s,a)},n.createBytes=function(t,e){for(var n=0,o=0,i=0,a=new Array(e.length),s=new Array(e.length),c=0;c<e.length;c++){var u=e[c].dataCount,l=e[c].totalCount-u;o=Math.max(o,u),i=Math.max(i,l),a[c]=new Array(u);for(var h=0;h<a[c].length;h++)a[c][h]=255&t.buffer[h+n];n+=u;var d=f.getErrorCorrectPolynomial(l),p=new r(a[c],d.getLength()-1),m=p.mod(d);s[c]=new Array(d.getLength()-1);for(var h=0;h<s[c].length;h++){var g=h+m.getLength()-s[c].length;s[c][h]=g>=0?m.get(g):0}}for(var v=0,h=0;h<e.length;h++)v+=e[h].totalCount;for(var y=new Array(v),b=0,h=0;o>h;h++)for(var c=0;c<e.length;c++)h<a[c].length&&(y[b++]=a[c][h]);for(var h=0;i>h;h++)for(var c=0;c<e.length;c++)h<s[c].length&&(y[b++]=s[c][h]);return y};for(var l={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},d={L:1,M:0,Q:3,H:2},p={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;f.getBCHDigit(e)-f.getBCHDigit(f.G15)>=0;)e^=f.G15<<f.getBCHDigit(e)-f.getBCHDigit(f.G15);return(t<<10|e)^f.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;f.getBCHDigit(e)-f.getBCHDigit(f.G18)>=0;)e^=f.G18<<f.getBCHDigit(e)-f.getBCHDigit(f.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return f.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case p.PATTERN000:return(e+n)%2==0;case p.PATTERN001:return e%2==0;case p.PATTERN010:return n%3==0;case p.PATTERN011:return(e+n)%3==0;case p.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case p.PATTERN101:return e*n%2+e*n%3==0;case p.PATTERN110:return(e*n%2+e*n%3)%2==0;case p.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new r([1],0),n=0;t>n;n++)e=e.multiply(new r([1,m.gexp(n)],0));return e},getLengthInBits:function(t,e){if(e>=1&&10>e)switch(t){case l.MODE_NUMBER:return 10;case l.MODE_ALPHA_NUM:return 9;case l.MODE_8BIT_BYTE:return 8;case l.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case l.MODE_NUMBER:return 12;case l.MODE_ALPHA_NUM:return 11;case l.MODE_8BIT_BYTE:return 16;case l.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case l.MODE_NUMBER:return 14;case l.MODE_ALPHA_NUM:return 13;case l.MODE_8BIT_BYTE:return 16;case l.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,r=0;e>r;r++)for(var o=0;e>o;o++){for(var i=0,a=t.isDark(r,o),s=-1;1>=s;s++)if(!(0>r+s||r+s>=e))for(var c=-1;1>=c;c++)0>o+c||o+c>=e||(0!=s||0!=c)&&a==t.isDark(r+s,o+c)&&i++;i>5&&(n+=3+i-5)}for(var r=0;e-1>r;r++)for(var o=0;e-1>o;o++){var u=0;t.isDark(r,o)&&u++,t.isDark(r+1,o)&&u++,t.isDark(r,o+1)&&u++,t.isDark(r+1,o+1)&&u++,(0==u||4==u)&&(n+=3)}for(var r=0;e>r;r++)for(var o=0;e-6>o;o++)t.isDark(r,o)&&!t.isDark(r,o+1)&&t.isDark(r,o+2)&&t.isDark(r,o+3)&&t.isDark(r,o+4)&&!t.isDark(r,o+5)&&t.isDark(r,o+6)&&(n+=40);for(var o=0;e>o;o++)for(var r=0;e-6>r;r++)t.isDark(r,o)&&!t.isDark(r+1,o)&&t.isDark(r+2,o)&&t.isDark(r+3,o)&&t.isDark(r+4,o)&&!t.isDark(r+5,o)&&t.isDark(r+6,o)&&(n+=40);for(var l=0,o=0;e>o;o++)for(var r=0;e>r;r++)t.isDark(r,o)&&l++;var h=Math.abs(100*l/e/e-50)/5;return n+=10*h}},m={glog:function(t){if(1>t)throw new Error("glog("+t+")");return m.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return m.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},g=0;8>g;g++)m.EXP_TABLE[g]=1<<g;for(var g=8;256>g;g++)m.EXP_TABLE[g]=m.EXP_TABLE[g-4]^m.EXP_TABLE[g-5]^m.EXP_TABLE[g-6]^m.EXP_TABLE[g-8];for(var g=0;255>g;g++)m.LOG_TABLE[m.EXP_TABLE[g]]=g;r.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<t.getLength();o++)e[n+o]^=m.gexp(m.glog(this.get(n))+m.glog(t.get(o)));return new r(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=m.glog(this.get(0))-m.glog(t.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(var o=0;o<t.getLength();o++)n[o]^=m.gexp(m.glog(t.get(o))+e);return new r(n,0).mod(t)}},o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(t,e){var n=o.getRsBlockTable(t,e);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var r=n.length/3,i=[],a=0;r>a;a++)for(var s=n[3*a+0],c=n[3*a+1],u=n[3*a+2],l=0;s>l;l++)i.push(new o(c,u));return i},o.getRsBlockTable=function(t,e){switch(e){case d.L:return o.RS_BLOCK_TABLE[4*(t-1)+0];case d.M:return o.RS_BLOCK_TABLE[4*(t-1)+1];case d.Q:return o.RS_BLOCK_TABLE[4*(t-1)+2];case d.H:return o.RS_BLOCK_TABLE[4*(t-1)+3];default:return void 0}},i.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;e>n;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var v=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],y=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){function e(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var r in e)e.hasOwnProperty(r)&&n.setAttribute(r,e[r]);return n}var n=this._htOption,r=this._el,o=t.getModuleCount();Math.floor(n.width/o),Math.floor(n.height/o),this.clear();var i=e("svg",{viewBox:"0 0 "+String(o)+" "+String(o),width:"100%",height:"100%",fill:n.colorLight});i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),r.appendChild(i),i.appendChild(e("rect",{fill:n.colorDark,width:"1",height:"1",id:"template"}));for(var a=0;o>a;a++)for(var s=0;o>s;s++)if(t.isDark(a,s)){var c=e("use",{x:String(a),y:String(s)});c.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),i.appendChild(c)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),b="svg"===document.documentElement.tagName.toLowerCase(),_=b?y:a()?function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function n(t,e){var n=this;if(n._fFail=e,n._fSuccess=t,null===n._bSupportDataURI){var r=document.createElement("img"),o=function(){n._bSupportDataURI=!1,n._fFail&&_fFail.call(n)
},i=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)};return r.onabort=o,r.onerror=o,r.onload=i,void(r.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}n._bSupportDataURI===!0&&n._fSuccess?n._fSuccess.call(n):n._bSupportDataURI===!1&&n._fFail&&n._fFail.call(n)}if(this._android&&this._android<=2.1){var r=1/t.devicePixelRatio,o=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,e,n,i,a,s,c,u){if("nodeName"in t&&/img/i.test(t.nodeName))for(var l=arguments.length-1;l>=1;l--)arguments[l]=arguments[l]*r;else"undefined"==typeof u&&(arguments[1]*=r,arguments[2]*=r,arguments[3]*=r,arguments[4]*=r);o.apply(this,arguments)}}var i=function(t,e){this._bIsPainted=!1,this._android=s(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return i.prototype.draw=function(t){var e=this._elImage,n=this._oContext,r=this._htOption,o=t.getModuleCount(),i=r.width/o,a=r.height/o,s=Math.round(i),c=Math.round(a);e.style.display="none",this.clear();for(var u=0;o>u;u++)for(var l=0;o>l;l++){var h=t.isDark(u,l),d=l*i,p=u*a;n.strokeStyle=h?r.colorDark:r.colorLight,n.lineWidth=1,n.fillStyle=h?r.colorDark:r.colorLight,n.fillRect(d,p,i,a),n.strokeRect(Math.floor(d)+.5,Math.floor(p)+.5,s,c),n.strokeRect(Math.ceil(d)-.5,Math.ceil(p)-.5,s,c)}this._bIsPainted=!0},i.prototype.makeImage=function(){this._bIsPainted&&n.call(this,e)},i.prototype.isPainted=function(){return this._bIsPainted},i.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},i.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},i}():function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,n=this._el,r=t.getModuleCount(),o=Math.floor(e.width/r),i=Math.floor(e.height/r),a=['<table style="border:0;border-collapse:collapse;">'],s=0;r>s;s++){a.push("<tr>");for(var c=0;r>c;c++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+o+"px;height:"+i+"px;background-color:"+(t.isDark(s,c)?e.colorDark:e.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),n.innerHTML=a.join("");var u=n.childNodes[0],l=(e.width-u.offsetWidth)/2,h=(e.height-u.offsetHeight)/2;l>0&&h>0&&(u.style.margin=h+"px "+l+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}();h=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:d.H,icon:""},"string"==typeof e&&(e={text:e}),e)for(var n in e)this._htOption[n]=e[n];"string"==typeof t&&(t=document.getElementById(t)),this._android=s(),this._el=t,this._oQRCode=null,this._oDrawing=new _(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},h.prototype.makeCode=function(t){function e(){r._oQRCode=new n(c(t,r._htOption.correctLevel),r._htOption.correctLevel),r._oQRCode.addData(t),r._oQRCode.make(),r._el.title=t,r._oDrawing.draw(r._oQRCode)}var r=this;if("string"==typeof this._htOption.icon){var o=new Image;o.onload=function(){e();var t=r._oDrawing._elCanvas,n=t.getContext("2d");n.save(),n.drawImage(this,0,0,this.width,this.height,3*r._htOption.width/8,3*r._htOption.height/8,r._htOption.width/4,r._htOption.height/4),n.restore(),r.makeImage()},o.onerror=function(){e(),r.makeImage()},o.src=this._htOption.icon}else e(),this.makeImage()},h.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},h.prototype.clear=function(){this._oDrawing.clear()},h.CorrectLevel=d}(),!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,function(){return function(){function e(t){if(r[t])return r[t].exports;var o=r[t]={exports:{}};return n[t](o,o.exports,e),o.exports}var n={686:function(e,n,r){"use strict";function o(t){try{return document.execCommand(t)}catch(e){return!1}}function i(e){var n="rtl"===document.documentElement.getAttribute("dir"),r=document.createElement("textarea");r.style.fontSize="12pt",r.style.border="0",r.style.padding="0",r.style.margin="0",r.style.position="absolute",r.style[n?"right":"left"]="-9999px";var o=t.pageYOffset||document.documentElement.scrollTop;return r.style.top="".concat(o,"px"),r.setAttribute("readonly",""),r.value=e,r}function a(t){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=g();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?m(t):e}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){var n="data-clipboard-".concat(t);return e.hasAttribute(n)?e.getAttribute(n):void 0}r.d(n,{"default":function(){return M}});var b=r(279),_=r.n(b),w=r(370),A=r.n(w),C=r(817),E=r.n(C),k=function(t){var e=E()(t);return o("cut"),e},I=k,T=function(t,e){var n=i(t);e.container.appendChild(n);var r=E()(n);return o("copy"),n.remove(),r},x=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"==typeof t?n=T(t,e):t instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null===t||void 0===t?void 0:t.type)?n=T(t.value,e):(n=E()(t),o("copy")),n},S=x,R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.action,n=void 0===e?"copy":e,r=t.container,o=t.target,i=t.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==o){if(!o||"object"!==a(o)||1!==o.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&o.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(o.hasAttribute("readonly")||o.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return i?S(i,{container:r}):o?"cut"===n?I(o):S(o,{container:r}):void 0},D=R,L=function(e){function n(t,e){var o;return c(this,n),o=r.call(this),o.resolveOptions(e),o.listenClick(t),o}h(n,e);var r=p(n);return l(n,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===s(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=A()(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(e){var n=e.delegateTarget||e.currentTarget,r=this.action(n)||"copy",o=D({action:r,container:this.container,target:this.target(n),text:this.text(n)});this.emit(o?"success":"error",{action:r,text:o,trigger:n,clearSelection:function(){n&&n.focus(),t.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(t){return y("action",t)}},{key:"defaultTarget",value:function(t){var e=y("target",t);return e?document.querySelector(e):void 0}},{key:"defaultText",value:function(t){return y("text",t)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return S(t,e)}},{key:"cut",value:function(t){return I(t)}},{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),n}(_()),M=L},828:function(t){function e(t,e){for(;t&&t.nodeType!==n;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=e},438:function(t,e,n){function r(t,e,n,r,o){var a=i.apply(this,arguments);return t.addEventListener(n,a,o),{destroy:function(){t.removeEventListener(n,a,o)}}}function o(t,e,n,o,i){return"function"==typeof t.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return r(t,e,n,o,i)}))}function i(t,e,n,r){return function(n){n.delegateTarget=a(n.target,e),n.delegateTarget&&r.call(t,n)}}var a=n(828);t.exports=o},879:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},370:function(t,e,n){function r(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!s.string(e))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(t))return o(t,e,n);if(s.nodeList(t))return i(t,e,n);if(s.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function i(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return c(document.body,t,e,n)}var s=n(879),c=n(438);t.exports=r},817:function(e){function n(e){var n;if("SELECT"===e.nodeName)e.focus(),n=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var r=e.hasAttribute("readonly");r||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),r||e.removeAttribute("readonly"),n=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var o=t.getSelection(),i=document.createRange();i.selectNodeContents(e),o.removeAllRanges(),o.addRange(i),n=o.toString()}return n}e.exports=n},279:function(t){function e(){}e.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){o.off(t,r),e.apply(n,arguments)}var o=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,o=n.length;for(r;o>r;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],o=[];if(r&&e)for(var i=0,a=r.length;a>i;i++)r[i].fn!==e&&r[i].fn._!==e&&o.push(r[i]);return o.length?n[t]=o:delete n[t],this}},t.exports=e,t.exports.TinyEmitter=e}},r={};return!function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),!function(){e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}}(),!function(){e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),e(686)}().default});var d=!1,p=null,f={},m={qnCoder:"\u957f\u6309\u4fdd\u5b58\u4e8c\u7ef4\u7801\u5230\u672c\u5730<br />\u4f7f\u7528\u5fae\u4fe1\u8bc6\u522b\u8fdb\u884c\u5206\u4eab",copyLink:"\u957f\u6309\u94fe\u63a5\u590d\u5236\u540e\u5206\u4eab\u7ed9\u597d\u53cb"},g="https://nie.res.netease.com/comm/js/nie/util/mobishare2/logo_min.png";return{open:l}}(),s=t.MShare=function(){function s(){var e=r.UrlParse(t.location.href),n=e.get("traceid"),i=e.get("p_spanid"),a=e.get("c_spanid"),s=e.get("code"),c=r.getStore("mshare_traceid"),u=r.getStore("mshare_spanid"),l=e.get("from"),h=e.get("channel");if(m.scene=e.get("scene")||2e3,m.share_key=e.get("share_key")||"",m.page_key=e.get("page_key")||"",m.kw=e.get("kw")||"",l)switch(l){case"singlemessage":m.scene=2007;break;case"groupmessage":m.scene=2008;break;case"timeline":m.scene=2009}if(h&&(m.channel=h),n?g.traceid=n:c&&!s?g.traceid=c:(g.traceid=s&&s.length>5?s:"tra_"+r.randomWord(10),r.setStore("mshare_traceid",g.traceid)),i&&a){var d=a.split(".")[0];d=parseInt(d)+1,u==a||"other"==o.getClient()?(g.p_spanid=i,g.c_spanid=a):(g.p_spanid=a,g.c_spanid=u&&u.split(".")[0]==d?u:d+"."+r.randomWord(5))}else g.p_spanid=u&&u.indexOf("0.")>-1?u:"0."+r.randomWord(5),g.c_spanid=g.p_spanid;r.setStore("mshare_spanid",g.c_spanid)}function c(){for(var t={},n=0;n<arguments.length;n++)arguments[n]&&(t=e.extend(t,arguments[n]));return t}function u(e,n){e=e||t.location.href,m.is_random&&(e.match(/\/[a-zA-Z0-9]+\/\d{8}\/[a-zA-Z0-9]+\/[^\/]{16,}\//i)||(e=e.replace(/(\/[a-zA-Z0-9]+\/\d{8}\/[a-zA-Z0-9]+\/)/i,function(t,e){return e+r.randomWord(16)+"/"})),!e.match(/\/[a-zA-Z0-9]+\/[^\/]{16,}\//i)&&e.split("/").length<=6&&(e=e.replace(/(\/[a-zA-Z0-9]+\/)/i,function(t,e){return e+r.randomWord(16)+"/"})));var o=r.UrlParse(e);if(o.set("traceid",g.traceid),o.set("p_spanid",g.p_spanid),o.set("c_spanid",g.c_spanid),n)for(var i in n)o.set(i,n[i]);return o.url}function l(){var t=0;e(document.body).on({touchstart:function(e){var n=e.target;clearTimeout(t),t=0,n&&n.tagName&&"img"==n.tagName.toLowerCase()&&n.className&&"js_mshare_qrcode"==n.className&&(t=setTimeout(function(){if(t){var e=c(m,g,v,{monitor:"qrcode_save_action"});i.report(e)}},500))},touchmove:function(){clearTimeout(t),t=0},touchend:function(){clearTimeout(t),t=0}})}function h(){l()}function d(t){o.init(t)}function p(){o.initParam(),s(),h();var t=r.getStore("mshare_fake_user_id");t?(m.fake_user_id=t,"elk_"+r.randomWord(7)):(m.fake_user_id="elk_"+r.randomWord(7),r.setStore("mshare_fake_user_id",m.fake_user_id)),m.plateform=o.getClient(),m.os=o.getOS(),f()}function f(){var n=0;e(t).on("load",function(){n=new Date},!1),e(t).on("unload",function(){if(0==n)return!1;var t=new Date-n,e=c(m,g,{monitor:"pageStay_action",type:"avg",value:t,desc:"\u9875\u9762\u505c\u7559\u65f6\u95f4"});i.closeReport(e)},!1)}var m={system:"buildin_js",monitor:"open_action",product:t.location.hostname,activity:t.location.hostname+t.location.pathname.replace(/\/[^\/]+\.html/i,"/").replace(/\/\/+/gi,"/"),scene:"",plateform:"",os:"",fake_user_id:"",share_key:"",page_key:"",kw:"",gitCode:"",is_random:!1,lang:navigator.language||""},g={traceid:"",p_spanid:"",c_spanid:""},v=null;return p(),{init:function(e,r){e=e||{},"number"!=typeof r&&(r=200),d({hideMoments:e.hideMoments||!1,hideFriend:e.hideFriend||!1,wxapi:e.wxapi||[],wxtag:e.tag||[],ready:e.ready||function(){},product:e.product||""}),e.activity&&(m.activity=e.activity),e.product&&(m.product=e.product);try{m.gitCode=document.head.getElementsByTagName("meta").from.content.split("/")[1],"three-family-h5-20241225"===m.gitCode&&(t.location.pathname.indexOf("/hd10/")>-1?(m.gitCode="three-family-h5-20241225-egg",m.activity="party.163.com/family/h5/",m.product="party.163.com"):(m.activity="three.163.com/family/h5/",m.product="three.163.com"))}catch(o){}e.is_random&&(m.activity.match(/\/[a-zA-Z0-9]+\/\d{8}\/[a-zA-Z0-9]+\/[^\/]{16,}\//i)?m.activity=m.activity.replace(/(\/[a-zA-Z0-9]+\/\d{8}\/[a-zA-Z0-9]+\/)[^\/]+\//i,function(t,e){return e}):m.activity.match(/\/[a-zA-Z0-9]+\/[^\/]{16,}\//i)&&m.activity.split("/").length<=4&&(m.activity=m.activity.replace(/(\/[a-zA-Z0-9]+\/)[^\/]{16,}\//i,function(t,e){return e})),m.is_random=e.is_random,m.activity.match(/\/h5\/\d{8}\/[a-zA-Z0-9]+\/[^\/]{1,15}\//i)&&(m.is_random=!1)),e.debug&&n.init();var a=c(m,g,{monitor:"open_action"});i.report(a,r)},setShare:function(t){var e=t.callback;t.url=u(t.url),t.callback=function(t){try{e(t)}catch(n){}if(!t.type)return!1;var r=c(m,g,v,{monitor:"share_action",shareto:t.type_en});i.report(r)},o.setShare(t)},openShare:function(t){var e=c(m,g,v,{monitor:"share_action",shareto:t.type||"moments"});i.report(e),t.url&&(t.url=u(t.url)),o.openShare(t)},updateShare:function(t){t.url&&(t.url=u(t.url)),o.updateShare(t)},loginReport:function(t){v={user_id:t.user_id,user_name:t.user_name,sex:t.sex},v=c(v,t);var e=c(m,g,v,{monitor:"auth_action"});i.report(e)},joinReport:function(t){var e=c(m,g,v,{action_name:t.action_name,monitor:"join_action"});i.report(e)},activityReport:function(t){var e=c(m,g,v,{activity_name:t.activity_name},{monitor:"finish_activity_action"});i.report(e)},shareReport:function(t){var e=c(m,g,v,{monitor:"share_action",shareto:"moments"},t);i.report(e)},report:function(t,e){t.monitor||(t.monitor="report_action");var n=c(m,g,v,t);i.report(n,e)},getShareUrl:function(t,e){var n={};return"qrcode"==e?n.scene=2012:e&&(n.channel=e),u(t,n)},getClient:function(){return o.getClient()},getShareParam:function(){return o.getShareParam()},showShare:function(t){return a.open(t)}}}()}(window,window.Zepto||window.jQuery);